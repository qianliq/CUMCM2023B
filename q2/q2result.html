
    <!DOCTYPE html>
    <html>
    <head>
        <meta charset="utf-8">
        <title>Q2 Jupyter Notebook 输出结果</title>
        <style>
            body { 
                font-family: 'Arial', sans-serif; 
                margin: 40px; 
                line-height: 1.6;
                color: #333;
            }
            h1 { 
                color: #2c3e50; 
                text-align: center; 
                border-bottom: 3px solid #3498db;
                padding-bottom: 10px;
            }
            h2 { 
                color: #34495e; 
                border-bottom: 1px solid #bdc3c7; 
                padding-bottom: 5px;
                margin-top: 30px;
            }
            .text { 
                margin: 15px 0; 
                white-space: pre-wrap; 
                background: #f8f9fa;
                padding: 10px;
                border-left: 4px solid #3498db;
                font-family: 'Courier New', monospace;
            }
            .result {
                margin: 15px 0; 
                white-space: pre-wrap; 
                background: #e8f5e8;
                padding: 10px;
                border-left: 4px solid #27ae60;
                font-family: 'Courier New', monospace;
            }
            .error { 
                color: #e74c3c; 
                background: #fdf2f2;
                padding: 10px;
                border-left: 4px solid #e74c3c;
                margin: 15px 0;
                font-family: 'Courier New', monospace;
            }
            .image-container { 
                text-align: center; 
                margin: 20px 0; 
                padding: 10px;
                background: #fff;
                border: 1px solid #ddd;
                border-radius: 5px;
            }
            .image-container img { 
                max-width: 100%; 
                height: auto; 
                border: 1px solid #ddd;
                border-radius: 3px;
            }
            .cell-header {
                background: #3498db;
                color: white;
                padding: 8px 15px;
                margin: 20px 0 10px 0;
                border-radius: 5px;
                font-weight: bold;
            }
            @media print {
                body { margin: 20px; }
                .image-container img { max-width: 90%; }
            }
        </style>
    </head>
    <body>
        <h1>Q2 Jupyter Notebook 输出结果</h1>
    <div class='cell-header'>Cell 1 输出</div>
<div class='text'>库导入完成！
</div>
<div class='cell-header'>Cell 2 输出</div>
<div class='text'>问题2参数设置:
多波束开角: 120° (2.0944 rad)
海底坡度: 1.5° (0.0262 rad)
中心点水深: 120 m
分析距离: [0.  0.3 0.6 0.9 1.2 1.5 1.8 2.1] 海里
测线方向角度: [  0  45  90 135 180 225 270 315]°
</div>
<div class='cell-header'>Cell 3 输出</div>
<div class='text'>Q2 几何分析类创建完成（修正版本）！
</div>
<div class='cell-header'>Cell 4 输出</div>
<div class='text'>开始计算分析...
\n计算结果样本：
   beta_deg  r_nautical  r_meter  depth  coverage_width  effective_slope_deg  \
0      0.00        0.00     0.00 120.00          415.69                 0.00   
1      0.00        0.30   555.60 134.55          466.09                 0.00   
2      0.00        0.60  1111.20 149.10          516.49                 0.00   
3      0.00        0.90  1666.80 163.65          566.89                 0.00   
4      0.00        1.20  2222.40 178.20          617.29                 0.00   
5      0.00        1.50  2778.00 192.74          667.69                 0.00   
6      0.00        1.80  3333.60 207.29          718.09                 0.00   
7      0.00        2.10  3889.20 221.84          768.48                 0.00   
8     45.00        0.00     0.00 120.00          416.12                 1.06   
9     45.00        0.30   555.60 130.29          451.79                 1.06   

   cos_beta  sin_beta  
0      1.00      0.00  
1      1.00      0.00  
2      1.00      0.00  
3      1.00      0.00  
4      1.00      0.00  
5      1.00      0.00  
6      1.00      0.00  
7      1.00      0.00  
8      0.71      0.71  
9      0.71      0.71  
\n总计算点数：64
β角度范围：[  0  45  90 135 180 225 270 315]°
距离范围：[0.  0.3 0.6 0.9 1.2 1.5 1.8 2.1] 海里
\n数值计算稳定，无异常值
</div>
<div class='cell-header'>Cell 5 输出</div>
<div class='text'>生成表格2的结果...
\n表格2：问题2的计算结果（覆盖宽度/m）
            0.00   0.30   0.60   0.90   1.20   1.50   1.80   2.10
测线方向夹角β/°                                                        
0         415.69 466.09 516.49 566.89 617.29 667.69 718.09 768.48
45        416.12 451.79 487.47 523.14 558.82 594.49 630.16 665.84
90        416.55 416.55 416.55 416.55 416.55 416.55 416.55 416.55
135       416.12 380.45 344.77 309.10 273.42 237.75 202.08 166.40
180       415.69 365.29 314.89 264.50 214.10 163.70 113.30  62.90
225       416.12 380.45 344.77 309.10 273.42 237.75 202.08 166.40
270       416.55 416.55 416.55 416.55 416.55 416.55 416.55 416.55
315       416.12 451.79 487.47 523.14 558.82 594.49 630.16 665.84
\n结果已保存到 result2.xlsx
</div>
<div class='cell-header'>Cell 6 输出</div>
<div class='text'>进行深入分析（修正版本）...
\n1. 有效坡度分析（修正版本）：
修正公式：α_eff = arctan(tan(α) * sin(β))
β =   0°: α_eff = 0.000000° (sin β =  0.000)
β =  45°: α_eff = 1.060781° (sin β =  0.707)
β =  90°: α_eff = 1.500000° (sin β =  1.000)
β = 135°: α_eff = 1.060781° (sin β =  0.707)
β = 180°: α_eff = 0.000000° (sin β =  0.000)
β = 270°: α_eff = -1.500000° (sin β = -1.000)
\n2. 水深变化分析（修正版本）：
公式：D(r,β) = D0 + r * cos(β) * tan(α)
物理意义：cos(β) &gt; 0 时向下坡移动，水深增大；cos(β) &lt; 0 时向上坡移动，水深减小
\nβ = 0° (cos β =  1.000):
  r = 0 海里: 水深 = 120.00 m (水深不变 0.00 m)
  r = 0.6 海里: 水深 = 149.10 m (水深增大 29.10 m)
  r = 1.2 海里: 水深 = 178.20 m (水深增大 58.20 m)
  r = 1.8 海里: 水深 = 207.29 m (水深增大 87.29 m)
\nβ = 90° (cos β =  0.000):
  r = 0 海里: 水深 = 120.00 m (水深不变 0.00 m)
  r = 0.6 海里: 水深 = 120.00 m (水深不变 0.00 m)
  r = 1.2 海里: 水深 = 120.00 m (水深不变 0.00 m)
  r = 1.8 海里: 水深 = 120.00 m (水深不变 0.00 m)
\nβ = 180° (cos β = -1.000):
  r = 0 海里: 水深 = 120.00 m (水深不变 0.00 m)
  r = 0.6 海里: 水深 = 90.90 m (水深减小 29.10 m)
  r = 1.2 海里: 水深 = 61.80 m (水深减小 58.20 m)
  r = 1.8 海里: 水深 = 32.71 m (水深减小 87.29 m)
\n3. 物理直觉验证：
β = 0°：测线沿下坡方向，r 增大时水深应该增大 ✓
β = 90°：测线垂直于坡向，r 增大时水深应该不变 ✓
β = 180°：测线沿上坡方向，r 增大时水深应该减小 ✓
\n4. 特殊情况分析：
\nβ = 90°（测线垂直于坡面法向投影）:
有效坡度 = 原始坡度，水深不变
    r_nautical  depth  coverage_width
16        0.00 120.00          416.55
17        0.30 120.00          416.55
18        0.60 120.00          416.55
19        0.90 120.00          416.55
20        1.20 120.00          416.55
\nβ = 0°（测线沿坡面法向投影-下坡方向）:
有效坡度 = 0，水深增大
   r_nautical  depth  coverage_width
0        0.00 120.00          415.69
1        0.30 134.55          466.09
2        0.60 149.10          516.49
3        0.90 163.65          566.89
4        1.20 178.20          617.29
\nβ = 180°（测线沿坡面法向投影反方向-上坡方向）:
有效坡度 = 0，水深减小
    r_nautical  depth  coverage_width
32        0.00 120.00          415.69
33        0.30 105.45          365.29
34        0.60  90.90          314.89
35        0.90  76.35          264.50
36        1.20  61.80          214.10
</div>
<div class='cell-header'>Cell 7 输出</div>
<div class='text'>&lt;Figure size 1500x1200 with 5 Axes&gt;</div>

            <div class='image-container'>
                <img src='cell_7_output_0.png' alt='Notebook输出图片' />
                <p><em>图片已保存为: image_cell_7_output_0.png</em></p>
            </div>
<div class='text'>\n修正后的关键统计信息：
覆盖宽度范围: 62.90 - 768.48 m
最大覆盖宽度: 768.48 m，出现在 β = 0.0°, r = 2.1 海里
最小覆盖宽度: 62.90 m，出现在 β = 180.0°, r = 2.1 海里
\n物理意义验证：
✓ β = 0°时，在最远距离处覆盖宽度最大（下坡，水深最大）
✓ β = 180°时，在最远距离处覆盖宽度最小（上坡，水深最小）
✓ β = 90°时，覆盖宽度在所有距离处保持恒定（垂直坡向，水深不变）
</div>
<div class='cell-header'>Cell 8 输出</div>
<div class='text'>\n==== 公式验证和理论分析 ====
\n1. 特殊情况验证：
β = 90°: α_eff = 0.0000000000° (理论值应为0°)
β = 0°: α_eff = 1.500000° (原始坡度 = 1.5°)
\n2. 对称性验证：
\n3. 公式一致性检查（与q1方法对比）：
\n==== 最终结果表格 ====
表格2：问题2的计算结果（覆盖宽度/m）
            0.00   0.30   0.60   0.90   1.20   1.50   1.80   2.10
测线方向夹角β/°                                                        
0         416.55 366.05 315.54 265.04 214.54 164.04 113.53  63.03
45        416.12 380.45 344.77 309.10 273.42 237.75 202.08 166.40
90        415.69 415.69 415.69 415.69 415.69 415.69 415.69 415.69
135       416.12 451.79 487.47 523.14 558.82 594.49 630.16 665.84
180       416.55 467.05 517.55 568.06 618.56 669.06 719.57 770.07
225       416.12 451.79 487.47 523.14 558.82 594.49 630.16 665.84
270       415.69 415.69 415.69 415.69 415.69 415.69 415.69 415.69
315       416.12 380.45 344.77 309.10 273.42 237.75 202.08 166.40
\n详细结果已保存到 detailed_results_q2.xlsx
\n==== 分析完成 ====
\n==== 理论洞察 ====
1. 有效坡度公式：α_eff = arctan(tan(α) * cos(β))
2. 当 β = 90° 时，cos(β) = 0，有效坡度为 0，覆盖宽度最大且稳定
3. 当 β = 0° 或 180° 时，|cos(β)| = 1，有效坡度等于原始坡度
4. 覆盖宽度随距离的变化取决于 cos(β)：
   - β = 90° 时，水深不变，覆盖宽度恒定
   - β = 0°, 180° 时，水深变化最大，覆盖宽度变化最显著
5. 该模型成功地将 q1 的几何分析扩展到了一般情况
</div>
</body></html>