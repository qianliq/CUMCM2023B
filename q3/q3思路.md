## 证明平行于等深线进行测量是最优的

### 问题背景
根据多波束测深原理，多波束测深系统在与航迹垂直的平面内一次能发射出数十个乃至上百个波束，在海底平坦的海域内，能够测量出以测量船测线为轴线且具有一定宽度的全覆盖水深条带。

多波束测深条带的覆盖宽度W随换能器开角θ和水深D的变化而变化。相邻条带之间的重叠率定义为：
$$\eta = 1 - \frac{d}{W}$$
其中d为相邻两条测线的间距，W为条带的覆盖宽度。

### 问题描述
**命题**：平行等深线走向进行测线布设是最佳方案。

**证明目标**：为了证明测线沿着海水等深线方向是最佳方向，只需要证明该测线所对应的覆盖面积最大于其他方向测线对应的覆盖面积。

### 几何模型建立

如图所示，在海底坡面上任取一条长度为l的测线AB，其中A在坡面上部，B在坡面下部，点O为AB的中点，过O点作一条平行于等深线且与AB等长的测线CD。

#### 坡面特征分析
- 与测线方向垂直的平面和海底坡面的交线构成一条与水平面夹角为α的斜线，称α为坡度
- 题目条件：坡度α = 1.5°，换能器开角θ = 120°

### 覆盖宽度数学模型

#### 基础覆盖宽度公式
对于平坦海底，多波束测深的覆盖宽度为：
$$W = 2D \tan\left(\frac{\theta}{2}\right)$$

#### 考虑坡度的覆盖宽度模型
当海底存在坡度α时，多波束测深的覆盖宽度需要考虑地形影响。根据几何关系，实际覆盖宽度为：

$$W = \frac{D}{\cos\alpha} \left(\frac{1}{\sin\left(\frac{\pi}{2} - \frac{\theta}{2} - \alpha\right)} + \frac{1}{\sin\left(\frac{\pi}{2} - \frac{\theta}{2} + \alpha\right)}\right) \sin\frac{\theta}{2}$$

简化为：
$$W = D \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha\right)}\right) \sin\frac{\theta}{2}$$

### 数学推导过程

#### 1. 海水深度分布
设测线AB与等深线夹角为β，则沿测线AB方向的海水深度变化为：
- A点的海水深度：$H_1 = H_0 - \frac{l}{2} \sin\alpha \cos\beta$
- B点的海水深度：$H_2 = H_0 + \frac{l}{2} \sin\alpha \cos\beta$
- O点的海水深度：$H_0 = \frac{H_1 + H_2}{2}$

其中H₀为中心点海水深度。

#### 2. 覆盖宽度计算
对应的覆盖宽度为：
- A点覆盖宽度：$W_1 = H_1 \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha'\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha'\right)}\right) \sin\frac{\theta}{2}$
- B点覆盖宽度：$W_2 = H_2 \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha'\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha'\right)}\right) \sin\frac{\theta}{2}$
- O点覆盖宽度：$W_0 = H_0 \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha\right)}\right) \sin\frac{\theta}{2}$

其中α'为测线AB方向的有效坡度：$\alpha' = \alpha \cos\beta$

#### 3. 覆盖面积比较
测线AB构成的等腰梯形面积：
$$S_1 = \frac{(W_1 + W_2)l}{2}$$

测线CD构成的矩形面积：
$$S_2 = W_0 l$$

### 关键数学推导

#### 平均覆盖宽度计算
$$\frac{W_1 + W_2}{2} = \frac{H_1 + H_2}{2} \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha'\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha'\right)}\right) \sin\frac{\theta}{2}$$

$$= H_0 \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha'\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha'\right)}\right) \sin\frac{\theta}{2}$$

#### 覆盖宽度函数分析
定义函数：
$$f(\alpha) = \frac{1}{\cos\left(\frac{\theta}{2} + \alpha\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha\right)}$$

对α求导：
$$f'(\alpha) = \frac{\sin\left(\frac{\theta}{2} + \alpha\right)}{\cos^2\left(\frac{\theta}{2} + \alpha\right)} - \frac{\sin\left(\frac{\theta}{2} - \alpha\right)}{\cos^2\left(\frac{\theta}{2} - \alpha\right)}$$

当α > 0时，由于θ/2 = 60° > α = 1.5°，可得：
- $\sin\left(\frac{\theta}{2} + \alpha\right) > \sin\left(\frac{\theta}{2} - \alpha\right)$
- $\cos\left(\frac{\theta}{2} + \alpha\right) < \cos\left(\frac{\theta}{2} - \alpha\right)$

因此f'(α) > 0，即f(α)在α > 0时单调递增。

#### 不等式证明
由于测线AB与等深线夹角β ≠ 0时，有效坡度α' = α cosβ < α，因此：
$$f(\alpha') < f(\alpha)$$

即：
$$\frac{1}{\cos\left(\frac{\theta}{2} + \alpha'\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha'\right)} < \frac{1}{\cos\left(\frac{\theta}{2} + \alpha\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha\right)}$$

所以：
$$\frac{W_1 + W_2}{2} < W_0$$

### 结论
因此：$S_1 = \frac{(W_1 + W_2)l}{2} < W_0 l = S_2$

**综上所述，平行于等深线的测线CD所对应的覆盖面积S₂大于任意方向测线AB的覆盖面积S₁，即平行于等深线的测线布设方案能够以最短的测线长度获得最大的覆盖面积，证明了平行于等深线进行测线布设是最优方案。**

---

# 如何使用单目标优化

当前题目假设

考虑一个南北长 2 海里、东西宽 4 海里的矩形海域内，海域中心点处的海水深度
为 110 m，西深东浅，坡度为 1.5
∘，多波束换能器的开角为 120∘。请设计一组测量长度最短、
可完全覆盖整个待测海域的测线，且相邻条带之间的重叠率满足 10%~20% 的要求。

这里的重叠率沿用 q1 的重叠率，因为同样是沿着等高线进行测量

然后，使用优化，现在的测线全部按照南北方向，长度都是固定的，所以目标是最少测线数量

约束是相邻条带之间重叠率满足要求，然后面积按照 q1 的公式进行计算

需要注意，要把海里转换成m 来进行计算