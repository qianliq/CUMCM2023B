## 证明平行于等深线进行测量是最优的

### 问题背景
根据多波束测深原理，多波束测深系统在与航迹垂直的平面内一次能发射出数十个乃至上百个波束，在海底平坦的海域内，能够测量出以测量船测线为轴线且具有一定宽度的全覆盖水深条带。

多波束测深条带的覆盖宽度W随换能器开角θ和水深D的变化而变化。相邻条带之间的重叠率定义为：
$$\eta = 1 - \frac{d}{W}$$
其中d为相邻两条测线的间距，W为条带的覆盖宽度。

### 问题描述
**命题**：平行等深线走向进行测线布设是最佳方案。

**证明目标**：为了证明测线沿着海水等深线方向是最佳方向，只需要证明该测线所对应的覆盖面积最大于其他方向测线对应的覆盖面积。

### 几何模型建立

如图所示，在海底坡面上任取一条长度为l的测线AB，其中A在坡面上部，B在坡面下部，点O为AB的中点，过O点作一条平行于等深线且与AB等长的测线CD。

#### 坡面特征分析
- 与测线方向垂直的平面和海底坡面的交线构成一条与水平面夹角为α的斜线，称α为坡度
- 题目条件：坡度α = 1.5°，换能器开角θ = 120°

### 覆盖宽度数学模型

#### 基础覆盖宽度公式
对于平坦海底，多波束测深的覆盖宽度为：
$$W = 2D \tan\left(\frac{\theta}{2}\right)$$

#### 考虑坡度的覆盖宽度模型
当海底存在坡度α时，多波束测深的覆盖宽度需要考虑地形影响。根据几何关系，实际覆盖宽度为：

$$W = \frac{D}{\cos\alpha} \left(\frac{1}{\sin\left(\frac{\pi}{2} - \frac{\theta}{2} - \alpha\right)} + \frac{1}{\sin\left(\frac{\pi}{2} - \frac{\theta}{2} + \alpha\right)}\right) \sin\frac{\theta}{2}$$

简化为：
$$W = D \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha\right)}\right) \sin\frac{\theta}{2}$$

### 数学推导过程

#### 1. 海水深度分布
设测线AB与等深线夹角为β，则沿测线AB方向的海水深度变化为：
- A点的海水深度：$H_1 = H_0 - \frac{l}{2} \sin\alpha \cos\beta$
- B点的海水深度：$H_2 = H_0 + \frac{l}{2} \sin\alpha \cos\beta$
- O点的海水深度：$H_0 = \frac{H_1 + H_2}{2}$

其中H₀为中心点海水深度。

#### 2. 覆盖宽度计算
对应的覆盖宽度为：
- A点覆盖宽度：$W_1 = H_1 \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha'\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha'\right)}\right) \sin\frac{\theta}{2}$
- B点覆盖宽度：$W_2 = H_2 \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha'\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha'\right)}\right) \sin\frac{\theta}{2}$
- O点覆盖宽度：$W_0 = H_0 \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha\right)}\right) \sin\frac{\theta}{2}$

其中α'为测线AB方向的有效坡度：$\alpha' = \alpha \cos\beta$

#### 3. 覆盖面积比较
测线AB构成的等腰梯形面积：
$$S_1 = \frac{(W_1 + W_2)l}{2}$$

测线CD构成的矩形面积：
$$S_2 = W_0 l$$

### 关键数学推导

#### 平均覆盖宽度计算
$$\frac{W_1 + W_2}{2} = \frac{H_1 + H_2}{2} \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha'\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha'\right)}\right) \sin\frac{\theta}{2}$$

$$= H_0 \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha'\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha'\right)}\right) \sin\frac{\theta}{2}$$

#### 覆盖宽度函数分析
定义函数：
$$f(\alpha) = \frac{1}{\cos\left(\frac{\theta}{2} + \alpha\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha\right)}$$

对α求导：
$$f'(\alpha) = \frac{\sin\left(\frac{\theta}{2} + \alpha\right)}{\cos^2\left(\frac{\theta}{2} + \alpha\right)} - \frac{\sin\left(\frac{\theta}{2} - \alpha\right)}{\cos^2\left(\frac{\theta}{2} - \alpha\right)}$$

当α > 0时，由于θ/2 = 60° > α = 1.5°，可得：
- $\sin\left(\frac{\theta}{2} + \alpha\right) > \sin\left(\frac{\theta}{2} - \alpha\right)$
- $\cos\left(\frac{\theta}{2} + \alpha\right) < \cos\left(\frac{\theta}{2} - \alpha\right)$

因此f'(α) > 0，即f(α)在α > 0时单调递增。

#### 不等式证明
由于测线AB与等深线夹角β ≠ 0时，有效坡度α' = α cosβ < α，因此：
$$f(\alpha') < f(\alpha)$$

即：
$$\frac{1}{\cos\left(\frac{\theta}{2} + \alpha'\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha'\right)} < \frac{1}{\cos\left(\frac{\theta}{2} + \alpha\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha\right)}$$

所以：
$$\frac{W_1 + W_2}{2} < W_0$$

### 结论
因此：$S_1 = \frac{(W_1 + W_2)l}{2} < W_0 l = S_2$

**综上所述，平行于等深线的测线CD所对应的覆盖面积S₂大于任意方向测线AB的覆盖面积S₁，即平行于等深线的测线布设方案能够以最短的测线长度获得最大的覆盖面积，证明了平行于等深线进行测线布设是最优方案。**

---

# 如何使用单目标优化

## 问题描述

考虑一个南北长 2 海里、东西宽 4 海里的矩形海域内，海域中心点处的海水深度为 110 m，西深东浅，坡度为 1.5°，多波束换能器的开角为 120°。请设计一组测量长度最短、可完全覆盖整个待测海域的测线，且相邻条带之间的重叠率满足 10%~20% 的要求。

## 优化问题建模

### 1. 问题参数
- **海域尺寸**: 南北长 2 海里 × 东西宽 4 海里
- **单位换算**: 1海里 = 1852m
- **实际尺寸**: 南北长 3704m × 东西宽 7408m
- **海水深度**: 中心点 110m，西深东浅
- **坡度**: α = 1.5°
- **换能器开角**: θ = 120°

### 2. 坐标系建立
建立直角坐标系，以海域中心为原点：
- **X轴**: 东西方向，正方向为东，范围 [-3704m, +3704m]
- **Y轴**: 南北方向，正方向为北，范围 [-1852m, +1852m]
- **深度模型**: $D(x) = 110 - x \times \sin(1.5°)$ (西深东浅)

### 3. 测线布设方案
根据前面的理论证明，采用**平行于等深线**的测线布设方案最优：
- **测线方向**: 南北方向（平行于等深线）
- **测线长度**: 固定为 2海里 = 3704m
- **优化变量**: 测线数量和测线间距

### 4. 数学模型

#### 目标函数
$$\min \quad f = N \times L$$
其中：
- N：测线数量
- L：单条测线长度 = 3704m（固定值）
- 因此实际目标函数简化为：$\min \quad N$

#### 约束条件

**约束1：完全覆盖约束**
$$\sum_{i=1}^{N} W_i \geq W_{total} = 7408m$$

**约束2：重叠率约束**
对于相邻测线i和i+1：
$$10\% \leq \eta_{i,i+1} \leq 20\%$$

其中重叠率定义为：
$$\eta_{i,i+1} = 1 - \frac{d_{i,i+1}}{W_{\min}(i,i+1)}$$

**约束3：覆盖宽度计算**
对于位置x处的测线，海水深度为：
$$D(x) = 110 - x \times \sin(1.5°)$$

覆盖宽度为（基于问题1的模型）：
$$W(x) = D(x) \left(\frac{1}{\cos\left(\frac{\theta}{2} + \alpha\right)} + \frac{1}{\cos\left(\frac{\theta}{2} - \alpha\right)}\right) \sin\frac{\theta}{2}$$

简化为：
$$W(x) = D(x) \times k$$

其中：$k = \left(\frac{1}{\cos(61.5°)} + \frac{1}{\cos(58.5°)}\right) \times \sin(60°)$

### 5. 优化策略

#### 方法1：贪心算法
1. 从最西端开始布设第一条测线
2. 计算当前测线的覆盖宽度
3. 根据重叠率要求确定下一条测线的最佳位置
4. 重复直到完全覆盖整个海域

#### 方法2：动态规划
1. 将海域划分为若干个等间距的潜在测线位置
2. 对每个位置计算覆盖宽度和重叠率
3. 使用动态规划找到满足约束的最少测线数量

#### 方法3：数学优化
使用非线性整数规划求解：
- **决策变量**: $x_1, x_2, ..., x_N$ (各测线的东西坐标位置)
- **目标函数**: $\min N$
- **约束条件**: 覆盖完整性 + 重叠率范围

### 6. 重叠率计算细节

对于相邻测线i（位置$x_i$）和测线i+1（位置$x_{i+1}$），其中$x_i < x_{i+1}$：

**左测线右边界**: $x_i + \frac{W(x_i)}{2}$
**右测线左边界**: $x_{i+1} - \frac{W(x_{i+1})}{2}$

**重叠宽度**: 
$$w_{overlap} = \max(0, x_i + \frac{W(x_i)}{2} - x_{i+1} + \frac{W(x_{i+1})}{2})$$

**重叠率**: 
$$\eta = \frac{w_{overlap}}{\min(W(x_i), W(x_{i+1}))}$$

### 7. 算法实现步骤

1. **参数初始化**: 定义海域范围、深度模型、覆盖宽度系数
2. **测线位置优化**: 使用贪心或优化算法确定最佳测线位置
3. **重叠率验证**: 检查所有相邻测线的重叠率是否满足10%-20%要求
4. **覆盖完整性检查**: 确保整个海域无漏测区域
5. **结果输出**: 测线数量、总长度、各测线坐标

### 8. 预期结果分析

根据初步估算：
- **最西端覆盖宽度**: 约 200-220m (深度最大)
- **最东端覆盖宽度**: 约 180-200m (深度最小)
- **平均覆盖宽度**: 约 200m
- **预计测线数量**: 35-40条
- **总测线长度**: 约 130-150km